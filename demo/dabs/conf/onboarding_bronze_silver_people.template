[
    {
        "data_flow_id": "007",
        "data_flow_group": "my_people",

        "source_system": "Manual_Download",
        "source_format": "cloudFiles",

        "source_details": {
            "source_path_dev": "{uc_volume_path}/demo/dabs/resources/data/people",
            "source_path_prod": "{uc_volume_path}/demo/dabs/resources/data/people",
            "source_metadata": {
                "include_autoloader_metadata_column": "True",
                "autoloader_metadata_col_name": "source_metadata",
                "select_metadata_cols": {
                    "input_file_name": "_metadata.file_name",
                    "input_file_path": "_metadata.file_path"
                }
            }         
        },
        "bronze_catalog_dev": "{uc_catalog_name}",
        "bronze_database_dev": "{bronze_schema}",
        "bronze_catalog_prod": "{uc_catalog_name}",
        "bronze_database_prod": "{bronze_schema}",        
        "bronze_table": "people_bronze",
        "bronze_quarantine_table": "people_bronze_quarantine",
        "bronze_cluster_by": ["country"],

        "bronze_table_properties" : {
            "pipelines.autoOptimize.managed": "true", 
            "pipelines.reset.allowed": "true",
            "delta.autoOptimize.optimizeWrite": "true",
            "delta.autoOptimize.autoCompact": "true",
            "delta.tuneFileSizesForRewrites": "true",
            "delta.columnMapping.mode": "name",
            "delta.checkpointRetentionDuration": "30 days",
            "delta.deletedFileRetentionDuration": "30 days",
            "delta.logRetentionDuration": "30 days"
        },

        "bronze_reader_options": {
            "cloudFiles.format": "csv",
            "cloudFiles.inferColumnTypes": "true",
            "cloudFiles.rescuedDataColumn": "_rescued_data"
        },
        "silver_catalog_dev": "{uc_catalog_name}",
        "silver_database_dev": "{silver_schema}",
        "silver_catalog_prod": "{uc_catalog_name}",
        "silver_database_prod": "{silver_schema}",
        "silver_table": "people_silver",
        "silver_cluster_by": ["country"],

        "silver_table_properties" : {
            "pipelines.autoOptimize.managed": "true", 
            "pipelines.reset.allowed": "true",
            "delta.autoOptimize.optimizeWrite": "true",
            "delta.autoOptimize.autoCompact": "true",
            "delta.tuneFileSizesForRewrites": "true",
            "delta.columnMapping.mode": "name",
            "delta.checkpointRetentionDuration": "30 days",
            "delta.deletedFileRetentionDuration": "30 days",
            "delta.logRetentionDuration": "30 days"
        },

        "silver_transformation_json_dev": "{uc_volume_path}/demo/dabs/conf/silver_queries_people.json",
        "silver_data_quality_expectations_json_dev": "{uc_volume_path}/demo/dabs/conf/dqe/dqe_silver_people.json",

        "silver_transformation_json_prod": "{uc_volume_path}/demo/dabs/conf/silver_queries_people.json",
        "silver_data_quality_expectations_json_prod": "{uc_volume_path}/demo/dabs/conf/dqe/dqe_silver_people.json",

        "silver_cdc_apply_changes": {
            "keys": [
                "id"
            ],
            "sequence_by": "id",
            "scd_type": "1"
        }
    }
    
]